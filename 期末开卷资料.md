## 1. æ’å…¥æ’åº

æœ€ä¼˜$O(n)$ï¼Œæœ€å·®$O(n^2)$

## 2. æ—¶é—´å¤æ‚åº¦è¡¨ç¤º

### 2.1 æ¸è¿›æ ‡è®°

* $O$æ ‡è®°ï¼šæè¿°å‡½æ•°çš„æ¸è¿›ä¸Šç•Œï¼Œå­˜åœ¨æ­£æ•°$c$å’Œ$n_0$ï¼Œæ»¡è¶³ï¼š


$$
0â‰¤ğ‘“(ğ‘›)â‰¤cg(ğ‘›) \; for\;all\;ğ‘›â‰¥ğ‘›_0
$$

* $\Omega$æ ‡è®°ï¼šæè¿°å‡½æ•°çš„æ¸è¿›ä¸‹ç•Œï¼Œå­˜åœ¨æ­£æ•°$c$å’Œ$n_0$ï¼Œæ»¡è¶³ï¼š

$$
0â‰¤cg(ğ‘›) â‰¤ğ‘“(ğ‘›)  \; for\;all\;ğ‘›â‰¥ğ‘›_0
$$

* $\Theta$æ ‡è®°ï¼šæè¿°å‡½æ•°çš„æ¸è¿›ç´§ç¡®ç•Œï¼Œå­˜åœ¨æ•´æ•°$c1$ã€$c2$ã€$n_0$ï¼Œæ»¡è¶³ï¼š

$$
0â‰¤ğ‘_1 g(ğ‘›) â‰¤ğ‘“(ğ‘›)â‰¤ğ‘_2 g(ğ‘›)\; for\;all\;ğ‘›â‰¥ğ‘›_0
$$

é‡è¦ç»“è®ºï¼š

å¯¹äºä»»æ„å‡½æ•°$f(n)$å’Œ$g(n)$ï¼Œæœ‰ï¼š
$$
ğ‘“(ğ‘›)=Î˜(g(ğ‘›)) \; if\;and\;only\;if  \\ğ‘“(ğ‘›)=ğ‘‚(g(ğ‘›))\;and\;ğ‘“(ğ‘›)=Î©(g(ğ‘›)) 
$$

### 2.2 ä½œä¸š

1. Let f(n) and g(n) be asymptotically nonnegative functions. Using the basic definition of Î˜-notation, prove that 

$$
maxâ¡[{ğ‘“(ğ‘›),ğ‘”(ğ‘›)}]=Î˜(ğ‘“(ğ‘›)+ğ‘”(ğ‘›)).
$$

**Answer**: Since $f(n)$ and $g(n)$ are asymptotically nonnegative, there exists $n_1$ and $n_2$ such that $f(n)â‰¥0$ for all $nâ‰¥n_1$ and $g(n)â‰¥0$ for all $nâ‰¥n_2$. Let $n_0$=$max \{n_1, n_2\}$, and hence $f(n)â‰¥0$ and $g(n)â‰¥0$ for all $nâ‰¥n_0$

For all $nâ‰¥n_0$, we have
$$
\begin{gathered}
0 \leq f(n) \leq \max \{f(n), g(n)\}, \\
0 \leq g(n) \leq \max \{f(n), g(n)\}, \ldots . \\
0 \leq \max \{f(n), g(n)\} \leq f(n)+g(n) .
\end{gathered}
$$
Adding the first two inequalities, it can be derived that
$$
0 \leq(f(n)+g(n)) / 2 \leq \max \{f(n), g(n)\}
$$
According to the definition of Î˜-notation, $c_1=1âˆ•2$ and $c_2=1$, for all $nâ‰¥n_0$,
$$
0 \leq(f(n)+g(n)) / 2 \leq \max \{f(n), g(n)\} \leq f(n)+g(n)
$$
Therefore, $max \{f(n), g(n)\}=Î˜(f(n)+g(n))$.

2. Explain why the statement, â€œThe running time of algorithm A is at least $O(n^2)$,â€ is meaningless

**Answer**:Let the running time be $T(n)$. $T(n)â‰¥O(n^2)$ means that $T(n)â‰¥f(n)$ for some function $f(n)$ in the set $O(n^2)$. In fact, this statement holds for any running time $T(n)$, since the function $g(n)=0$ for all n is in $O(n^2)$, and running times are always nonnegative. Thus, the statement tells us nothing about the running time.

## 3. åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰

* **Divide** the problem into one or more subproblems that are smaller instances of the same problem

* **Conquer** the subproblems by solving them recursively

* **Combine** the subproblem solutions to form a solution to the original problem

### 3.1 å½’å¹¶æ’åº

![image-20231224213549136](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231224213549136.png)

å¤æ‚åº¦åˆ†æï¼š

* ä»£å…¥æ³•ï¼ˆ**substitution method**ï¼‰

ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨å¸¸æ•°ç¬¦å·çŒœæµ‹è§£çš„å½¢å¼ï¼›ç¬¬äºŒæ­¥ï¼šæ˜¯ç”¨æ•°å­¦å½’çº³æ³•æ±‚å‡ºè§£ä¸­çš„å¸¸æ•°ï¼Œå¹¶è¯æ˜è§£æ˜¯æ­£ç¡®çš„

ä¾‹å¦‚ï¼Œ$T(n)=2 T(\lfloor n / 2\rfloor)+\Theta(n) \text { ,çŒœæµ‹ } T(n)=O(n \lg n)$

![image-20231224214305560](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231224214305560.png)

åªè¦ï¼Œ$c$å’Œ$n_0$è¶³å¤Ÿå¤§ï¼Œå°±å¯ä»¥éšè—æ‰$\Theta(n)$ã€‚æ•°å­¦å½’çº³æ³•è¦æ±‚é™¤äº†å½’çº³æƒ…å†µæ»¡è¶³ä¹‹å¤–ï¼ŒåŸºæœ¬æƒ…å†µä¹Ÿè¦æ»¡è¶³ï¼Œå³å½“$n_0 \leq n \leq 2n_0$æ—¶æœ‰$T(n) \leq cnlgn$

![image-20231224214533652](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231224214533652.png)

**æ³¨æ„**ï¼šè¦è¯æ˜çš„æ˜¯$T(n)\leq f(n)$ï¼Œè€Œä¸æ˜¯$T(n) \leq O(n)$

* é€’å½’æ ‘æ³•

ä¾‹å¦‚ï¼Œ$T(n)=3T(\frac{n}{4})+\Theta(n^2)=3T(n)+c_2n^2$

![image-20231224215140866](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231224215140866.png)

![image-20231224215206990](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231224215206990.png)

* ä¸»æ–¹æ³•ï¼šä¸»è¦ç”¨äºæ±‚è§£ä¸‹é¢æ ¼å¼çš„é€’å½’å¼


$$
T(n)=a T(n / b)+f(n) \text { ï¼Œå…¶ä¸­ } a>0, b>1
$$
å…¶ä¸­ï¼Œé©±åŠ¨å‡½æ•°ä¸º$f(n)$

![image-20231224215626706](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231224215626706.png)

æƒ…å†µ1çš„å®ä¾‹ï¼š

![image-20231224215823619](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231224215823619.png)

æƒ…å†µ2çš„å®ä¾‹ï¼š

![image-20231224220032182](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231224220032182.png)

### 3.2 ä½œä¸š

1. For each of the following recurrences, sketch its recursion tree, and guess a good asymptotic upper bound on its solution. Then use the substitution method to verify your answer

![image-20231224220523621](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231224220523621.png)

![image-20231224220653559](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231224220653559.png)

2. Use the master method to give tight asymptotic bounds for the following recurrences

![image-20231224221027044](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231224221027044.png)

****

![image-20231224221050172](C:\Users\27476\AppData\Roaming\Typora\typora-user-images\image-20231224221050172.png)

****

![image-20231224221102819](C:\Users\27476\AppData\Roaming\Typora\typora-user-images\image-20231224221102819.png)

## å››. åŠ¨æ€è§„åˆ’ï¼ˆDynamic Programmingï¼‰

![image-20231225112118620](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225112118620.png)

è®¾è®¡ä¸€ä¸ªåŠ¨æ€è§„åˆ’ç®—æ³•ä¸€èˆ¬æœ‰ä»¥ä¸‹å››æ­¥ï¼š

* æè¿°ä¸€ä¸ªæœ€ä¼˜è§£çš„ç»“æ„ç‰¹å¾
* é€’å½’åœ°å®šä¹‰æœ€ä¼˜è§£çš„å€¼
* è®¡ç®—æœ€ä¼˜è§£çš„å€¼ï¼Œé€šå¸¸é‡‡ç”¨è‡ªåº•å‘ä¸Šçš„æ–¹æ³•
* åˆ©ç”¨è®¡ç®—å‡ºçš„ä¿¡æ¯æ„é€ å‡ºä¸€ä¸ªæœ€ä¼˜è§£

### 4.1 é’¢æ¡åˆ‡å‰²é—®é¢˜ï¼ˆrod-cuttingï¼‰

![image-20231225112505607](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225112505607.png)

* è‡ªé¡¶å‘ä¸‹é€’å½’å®ç°

![image-20231225112643470](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225112643470.png)

åˆ†æCUT-RODçš„è¿è¡Œæ—¶é—´ï¼š$T(0)=1$ï¼Œ$T(n)=1+ \sum^{n-1}_{j=0}T(j)$ï¼Œè§£å¾—$T(n)=2^n$

* ä½¿ç”¨åŠ¨æ€è§„åˆ’

![image-20231225112857878](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225112857878.png)

åŠ¨æ€è§„åˆ’æœ‰ä¸¤ç§å®ç°æ–¹æ³•

![image-20231225113033189](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225113033189.png)

**è®°å¿†åŒ–çš„è‡ªé¡¶å‘ä¸‹**ï¼š

![image-20231225113426184](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225113426184.png)

**è‡ªåº•å‘ä¸Š**ï¼š

![image-20231225113558338](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225113558338.png)

ä¸ºäº†é‡æ„æœ€ä¼˜è§£ï¼Œå¯ä»¥å¯¹ä¸Šè¿°å‡½æ•°è¿›è¡Œæ”¹é€ ï¼š

![image-20231225113824023](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225113824023.png)

### 4.2 æœ€é•¿å…¬å…±å­åºåˆ—ï¼ˆLCSï¼‰

![image-20231225114008041](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225114008041.png)

**LCSçš„æœ€ä¼˜å­ç»“æ„**ï¼š

![image-20231225114109538](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225114109538.png)

**LCSçš„ä¸€ä¸ªé€’å½’è§£**ï¼š

![image-20231225114206419](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225114206419.png)

**è®¡ç®—LCSçš„é•¿åº¦**ï¼š

LCSé—®é¢˜æœ‰$\Theta(mn)$ä¸ªä¸åŒçš„å­é—®é¢˜ï¼Œå¯ä»¥é‡‡ç”¨è‡ªåº•å‘ä¸ŠåŠ¨æ€è§„åˆ’è¿›è¡Œè®¡ç®—ã€‚

![image-20231225114404171](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225114404171.png)

![image-20231225114424776](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225114424776.png)

è®¡ç®—æ¯ä¸ªè¡¨é¡¹çš„è¿è¡Œæ—¶é—´ä¸º$\Theta(1)$ï¼Œæ‰€ä»¥LCS-LENGTHçš„è¿è¡Œæ—¶é—´ä¸º$\Theta(mn)$

**æ„é€ ä¸€ä¸ªLCS**ï¼š

![image-20231225114710138](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225114710138.png)

**æœ¬é¢˜ä¹Ÿå¯ä»¥ä½¿ç”¨è®°å¿†åŒ–è‡ªé¡¶å‘ä¸‹åŠ¨æ€è§„åˆ’æ±‚è§£**ï¼š

```C++
MEMOIZED-LCS-LENGTH-AUX(X, Y, i, j, c, b)
    if c[i, j] > -1
        return c[i, j]
    if i == 0 or j == 0
        c[i, j] = 0
        return c[i, j]
    if x_i == y_j
        b[i, j] = "â†–"
        c[i, j] = MEMOIZED-LCS-LENGTH-AUX(X, Y, i - 1, j - 1, c, b) + 1
    else if MEMOIZED-LCS-LENGTH-AUX(X, Y, i - 1, j, c, b) â‰¥ MEMOIZED-LCS-LENGTH-AUX(X, Y, i, j - 1, c, b)
        b[i, j] = "â†‘"
        c[i, j] = MEMOIZED-LCS-LENGTH-AUX(X, Y, i - 1, j, c, b)
    else
        b[i, j] = "â†"
        c[i, j] = MEMOIZED-LCS-LENGTH-AUX(X, Y, i, j - 1, c, b)
    return c[i, j]

MEMOIZED-LCS-LENGTH(X, Y)
    let b[1 : m, 1 : n] and c[0 : m, 0 : n] be new tables
    for i = 0 to m
        for j = 0 to n
            c[i, j] = -1
    MEMOIZED-LCS-LENGTH-AUX(X, Y, m, n, c, b)
    return c and b
```

### 4.3 æœ€ä¼˜äºŒå‰æœç´¢æ ‘

![image-20231225115222104](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225115222104.png)

ç»™å®šä¸€ä¸ªæ¦‚ç‡é›†åˆï¼Œæˆ‘ä»¬å¸Œæœ›æ„é€ ä¸€æ£µæœç´¢ä»£ä»·æœ€å°çš„äºŒå‰æœç´¢æ ‘

**Step1**ï¼šæœ€ä¼˜äºŒå‰æœç´¢æ ‘çš„ç»“æ„

![image-20231225115346196](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225115346196.png)

**Step2**ï¼šä¸€ä¸ªé€’å½’è§£

![image-20231225115645242](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225115645242.png)

![image-20231225115827973](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225115827973.png)

ä¸ºäº†å¸®åŠ©æ„é€ æœ€ä¼˜è§£ï¼Œå®šä¹‰$root[i,j]$ä¿å­˜å…³é”®å­—$k_i,\dots,k_{r-1}$çš„æœ€ä¼˜äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹å…³é”®å­—$k_r$çš„ä¸‹è¡¨$r$

**Step3**ï¼šè®¡ç®—æœ€ä¼˜äºŒå‰æœç´¢æ ‘çš„æœŸæœ›æœç´¢ä»£ä»·

![image-20231225115957016](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225115957016.png)

![image-20231225120203805](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225120203805.png)

### 4.4 ä½œä¸š

1. Consider a modification of the rod-cutting problem in which, in addition to a price $p_i $for each rod, each cut incurs a fixed cost of $c$. The revenue associated with a solution is now the sum of the prices of the pieces minus the costs of making the cuts. Give a dynamic-programming algorithm to solve this modified problem.

$$
\begin{aligned}
r_n & =\max \left\{p_1+r_{n-1}-c, p_2+r_{n-2}-c, \cdots, p_{n-1}+r_1-c, p_n\right\} \\
& =\max \left\{p_i+r_{n-i}-c \mid 1 \leq i \leq n, r_0=c\right\}
\end{aligned}
$$

![image-20231225120431998](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225120431998.png)

2. Give pseudocode(ä¼ªä»£ç ) to reconstruct an LCS from the completed c table and the original sequences $X=<x_1,x_2,â€¦,x_m>$ and $Y=<y_1,y_2,â€¦,y_n>$ in $O(m+n)$ time, without using the b table.

![image-20231225120605995](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225120605995.png)

è¿™ä¸ªå‡½æ•°ä¸º$O(m+n)$

3. Determine the cost and structure of an optimal binary search tree for a set of $n=7$ keys with the following probabilities:

![image-20231225120700437](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225120700437.png)

![image-20231225120817299](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225120817299.png)

![image-20231225120832237](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225120832237.png)

## äº”. è´ªå¿ƒç®—æ³•

è´ªå¿ƒç®—æ³•æ¯ä¸€æ­¥éƒ½åšå‡ºå½“æ—¶çœ‹èµ·æ¥æ˜¯æœ€ä¼˜çš„é€‰æ‹©ï¼Œå³æ±‚å±€éƒ¨æœ€ä¼˜è§£ï¼Œå¸Œæœ›é€šè¿‡å±€éƒ¨æœ€ä¼˜è§£æ¨å¯¼å‡ºå…¨å±€æœ€ä¼˜è§£

### 5.1 æ´»åŠ¨é€‰æ‹©é—®é¢˜ï¼ˆactivity-selection problemï¼‰

![image-20231225121703007](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225121703007.png)

**æ´»åŠ¨é€‰æ‹©é—®é¢˜çš„æœ€ä¼˜å­ç»“æ„**ï¼š

![image-20231225121947045](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225121947045.png)

**åšå‡ºè´ªå¿ƒé€‰æ‹©**ï¼š

![image-20231225122052246](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225122052246.png)

**é‡è¦å®šç†**ï¼š

è€ƒè™‘ä»»æ„éç©ºå­é—®é¢˜$S_k$ï¼Œå¦‚æœ$a_m$æ˜¯$S_k$ä¸­ç»“æŸæ—¶é—´æœ€æ—©çš„æ´»åŠ¨ï¼Œé‚£ä¹ˆ$a_m$åœ¨$S_k$çš„æŸä¸ªæœ€å¤§å…¼å®¹æ´»åŠ¨å­é›†ä¸­

**é€’å½’è´ªå¿ƒç®—æ³•**ï¼š

![image-20231225122450417](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225122450417.png)

**è¿­ä»£è´ªå¿ƒç®—æ³•**ï¼š

![image-20231225122622919](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225122622919.png)

### 5.2 è´ªå¿ƒç­–ç•¥åŸºæœ¬åŸç†

![image-20231225122952250](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225122952250.png)

![image-20231225123118444](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225123118444.png)

![image-20231225123146844](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225123146844.png)

**è´ªå¿ƒVSåŠ¨æ€è§„åˆ’**ï¼š

![image-20231225123301631](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225123301631.png)

### 5.3 ç¦»çº¿ç¼“å­˜ï¼ˆOffline cachingï¼‰

![image-20231225123531809](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225123531809.png)

æƒ…å†µ2å’Œæƒ…å†µ3ç§°ä¸ºç¼“å­˜æœªå‘½ä¸­ï¼Œæƒ…å†µ2ç§°ä¸ºå¼ºåˆ¶æœªå‘½ä¸­

![image-20231225123702029](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225123702029.png)

**ç¦»çº¿ç¼“å­˜çš„æœ€ä¼˜å­ç»“æ„**ï¼š

![image-20231225123847529](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225123847529.png)

**ç¦»çº¿ç¼“å­˜çš„è´ªå¿ƒé€‰æ‹©æ€§è´¨**ï¼š

![image-20231225132144533](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225132144533.png)

### 5.4 ä½œä¸š

1. Describe an efficient algorithm that, given a set $\{x_1,x_2,â€¦,x_n \}$ of points on the real line, determines the smallest *set* of unit-length closed intervals that contains all of the given points. Argue that your algorithm is correct.

![image-20231225132545892](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225132545892.png)

2. Real cache managers do not know the future requests, and so they often use the past to decide which block to evict. The least-recently-used, or LRU, strategy evicts the block that, of all blocks currently in the cache, was the least recently requested. Give an example of a request sequence in which the LRU strategy is not optimal, by showing that it induces more cache misses than the furthest-in-future strategy does on the same request sequence

![image-20231225132648569](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225132648569.png)

## å…­. æœ€å°ç”Ÿæˆæ ‘ï¼ˆMinimum Spanning Treesï¼‰

![image-20231225212551611](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225212551611.png)

### 6.1 ç”Ÿæˆä¸€é¢—æœ€å°ç”Ÿæˆæ ‘

![image-20231225212707280](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225212707280.png)

**åˆ‡å‰²**ï¼š

![image-20231225212925151](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225212925151.png)

**é‡è¦å®šç†**ï¼š

![image-20231225213033734](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225213033734.png)

### 6.2 Kruskalç®—æ³•

$A$æ˜¯ä¸€ä¸ªæ£®æ—ï¼Œè¯¥æ£®æ—çš„é¡¶ç‚¹ä¸º$V$ï¼Œæ¯æ¬¡åŠ å…¥åˆ°$A$ä¸­çš„å®‰å…¨è¾¹æ°¸è¿œæ˜¯æƒé‡æœ€å°çš„è¿æ¥ä¸¤ä¸ªä¸åŒåˆ†é‡çš„è¾¹

![image-20231225213314966](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225213314966.png)

### 6.3 Primç®—æ³•

$A$æ˜¯ä¸€æ£µæ ‘ï¼Œæ¯æ¬¡åŠ å…¥åˆ°$A$çš„å®‰å…¨è¾¹æ°¸è¿œè¿æ¥$A$å’Œ$V-A$çš„è¾¹ä¸­æƒé‡æœ€å°çš„è¾¹

![image-20231225213516894](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225213516894.png)

### 6.4 ä¸€äº›æ¦‚å¿µ

* æœ€å°ä¼˜å…ˆé˜Ÿåˆ—

![image-20231225213700474](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225213700474.png)

![image-20231225213732551](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225213732551.png)

![image-20231225213744150](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225213744150.png)

### 6.5 ä½œä¸š

1. Give a simple example of a connected graph such that the set of edges $\{(u,v): there\;exists\;a\;cut\;(S,V-S)\;such\;that\;(u,v)\;is\;a\;light\;edge\;crossing\;(S,V-S)\} $does not form a minimum spanning tree

Consider a triangle graph whose 3 edge weights are all equal. Apparently, every edge is a light edge crossing some cut partitioned by 1 vertex and the other 2 vertices. Thus, all light edges form a cycle, but not a minimum spanning tree

2. Give a simple implementation of Primâ€™s algorithm that runs in $O(V^2)$ time when the graph $G(V,E)$ is represented as an adjacency matrix

![image-20231225214051794](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225214051794.png)

## ä¸ƒ. æœ€çŸ­è·¯å¾„ï¼ˆShortest Pathsï¼‰

![image-20231225214345931](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225214345931.png)

### 7.1 åŸºæœ¬æ¦‚å¿µ

![image-20231225214326212](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225214326212.png)

**æœ€çŸ­è·¯å¾„çš„æœ€ä¼˜å­ç»“æ„**ï¼š

![image-20231225214503662](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225214503662.png)

**è´Ÿæƒé‡è¾¹**ï¼š

![image-20231225214544351](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225214544351.png)

**ç¯è·¯**ï¼š

![image-20231225214640545](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225214640545.png)

**æ¾å¼›ï¼ˆrelaxationï¼‰**ï¼š

* $v.d$ï¼šä»$s$åˆ°$v$çš„æœ€çŸ­è·¯å¾„çš„æƒé‡çš„ä¸Šç•Œ
* $v.\pi$ï¼šé¡¶ç‚¹çš„å‰é©±

![image-20231225215010573](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225215010573.png)

![image-20231225215151459](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225215151459.png)

### 7.2 å•æºæœ€çŸ­è·¯å¾„

**Dijkstraç®—æ³•**ï¼šèƒ½å¤Ÿè§£å†³æœ‰å‘å¸¦æƒå›¾$G=(V,E)$ä¸Šçš„å•æºæœ€çŸ­è·¯å¾„é—®é¢˜ï¼Œä½†è¦æ±‚æ‰€æœ‰è¾¹$(u,v)\in E$çš„æƒé‡$w(u,v) \geq0$

![image-20231225215700402](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225215700402.png)

**æ—¶é—´å¤æ‚åº¦**ï¼š

![image-20231225215907840](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225215907840.png)

### 7.3 å…¨æºæœ€çŸ­è·¯å¾„

![image-20231225220030859](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225220030859.png)

**Floyd-Warshallç®—æ³•**ï¼šè¾“å…¥å›¾ä¸­å¯ä»¥å­˜åœ¨æƒé‡ä¸ºè´Ÿçš„è¾¹ï¼Œä½†ä¸èƒ½å­˜åœ¨æƒé‡ä¸ºè´Ÿçš„ç¯è·¯ã€‚è¿™ä¸ªç®—æ³•æ˜¯åŸºäºå¯ç”¨ä¸­é—´é¡¶ç‚¹çš„æœ€å¤§ä¸ªæ•°è¿›è¡ŒåŠ¨æ€è§„åˆ’

![image-20231225220358747](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225220358747.png)

![image-20231225220424296](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225220424296.png)

![image-20231225220612090](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225220612090.png)

**è‡ªåº•å‘ä¸Šè®¡ç®—æœ€çŸ­è·¯å¾„æƒé‡**ï¼š

![image-20231225220708292](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225220708292.png)

![image-20231225220727267](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225220727267.png)

**æ„é€ ä¸€æ¡æœ€çŸ­è·¯å¾„**ï¼š

![image-20231225220848329](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225220848329.png)

### 7.4 ä½œä¸š

1. Give a simple example of a directed graph with negative-weight edges for which Dijkstra's algorithm produces an incorrect answer

Consider a graph with a negative-weight cycle reachable from the source. The distance to any vertex reachable from the cycle is -âˆ, but RELAX algorithm is called only finite times, and hence Dijkstra's algorithm cannot produce a correct answer.

![image-20231225221005755](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231225221005755.png)

2. Show how to use the output of the Floyd-Warshall algorithm to detect the presence of a negative-weight cycle.

If the output of the Floyd-Warshall algorithm has a negative number on the diagonal (the shortest path from a vertex to itself), then there exists a negative-weight cycle.

## å…«. NPå®Œå…¨æ€§

### 8.1 ä¸€äº›æ¦‚å¿µ

* Pé—®é¢˜ï¼šå¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…æ±‚è§£çš„é—®é¢˜
* NPé—®é¢˜ï¼šå¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…éªŒè¯çš„é—®é¢˜ï¼ˆç»™å‡ºä¸€ä¸ªè§£ï¼ŒéªŒè¯è¿™ä¸ªè§£æ˜¯å¦æ­£ç¡®ï¼‰
* NPCé—®é¢˜ï¼šæ˜¯ä¸€ä¸ªNPé—®é¢˜+æ‰€æœ‰NPé—®é¢˜éƒ½èƒ½å½’çº¦åˆ°å®ƒ
* NPéš¾é—®é¢˜ï¼ˆNP-hardï¼‰ï¼šæ‰€æœ‰é—®é¢˜éƒ½èƒ½å½’çº¦åˆ°å®ƒï¼Œä½†æ˜¯ä¸ä¸€å®šæ˜¯NPé—®é¢˜
* Pé—®é¢˜æ˜¯NPé—®é¢˜çš„å­é›†

![image-20231226094324096](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226094324096.png)

å¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªNPCé—®é¢˜å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…è§£å†³ï¼Œé‚£ä¹ˆæ‰€æœ‰NPé—®é¢˜éƒ½å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…è§£å†³

* å†³å®šé—®é¢˜ vs ä¼˜åŒ–é—®é¢˜ï¼ˆDecision problems vs. optimization problemsï¼‰

  å¦‚æœä¸€ä¸ªå†³å®šé—®é¢˜å¾ˆéš¾ï¼Œé‚£å’Œå®ƒå…ˆå…³è”çš„ä¼˜åŒ–é—®é¢˜ä¹Ÿå¾ˆéš¾

* è§„çº¦ï¼ˆReductionsï¼‰ï¼š

  è€ƒè™‘ä¸€ä¸ªå†³å®šé—®é¢˜$A$ï¼Œæˆ‘ä»¬ç§°$A$çš„è¾“å…¥ä¸º$A$çš„ä¸€ä¸ªå®ä¾‹ï¼ˆinstanceï¼‰$\alpha$ï¼›å¦ä¸€ä¸ªå†³å®šé—®é¢˜$B$å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…è§£å†³ã€‚ç°åœ¨æœ‰ä¸€ä¸ªç¨‹åºï¼Œå®ƒå¯ä»¥åœ¨**å¤šé¡¹å¼æ—¶é—´**å†…æŠŠ$A$çš„ä¸€ä¸ªå®ä¾‹$\alpha$è½¬æ¢ä¸º$B$çš„ä¸€ä¸ªå®ä¾‹$\beta$ï¼Œä¸”ä¸¤ä¸ªé—®é¢˜è¾“å‡ºçš„**ç»“æœç›¸åŒ**

* ç°åœ¨å°†å¤šé¡¹å¼æ—¶é—´è§„çº¦æ¢ä¸€ç§æ€è·¯ä½¿ç”¨ï¼š

  ä¸€ä¸ªå†³å®šé—®é¢˜$A$å·²ç»è¢«ç¡®å®šä¸å­˜åœ¨å¤šé¡¹å¼æ—¶é—´ç®—æ³•ï¼Œä¸”å­˜åœ¨ä¸€ä¸ªä»$A$åˆ°$B$çš„å¤šé¡¹å¼æ—¶é—´è§„çº¦ï¼Œé‚£ä¹ˆå¯¹äº$B$æ¥è¯´ä¹Ÿä¸å­˜å¤šé¡¹å¼æ—¶é—´ç®—æ³•

  æ‰€ä»¥è¦å®šä¹‰NPCé—®é¢˜ï¼Œå°±è¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªNPCé—®é¢˜

* é—®é¢˜çš„æŠ½è±¡è¡¨è¾¾ï¼š

  ä¸€ä¸ªæŠ½è±¡é—®é¢˜$Q$æ˜¯ä¸€ä¸ªè¾“å…¥é›†åˆ$I$å’Œä¸€ä¸ªè¾“å‡ºé›†åˆ$S$ä¸Šçš„äºŒå…ƒå…³ç³»ã€‚è¿™æ ·å¯ä»¥å®šä¹‰**å†³å®šé—®é¢˜**ï¼šä»è¾“å…¥é›†åˆ$I$åˆ°ç»“æœé›†$\{0,1\}$çš„æ˜ å°„

* ç¼–ç ï¼šç¨‹åºèƒ½ç†è§£çš„é—®é¢˜è¡¨è¾¾å½¢å¼ã€‚

  ç¼–ç çš„å®šä¹‰ï¼šæ˜¯ä¸€ä¸ªä»æŠ½è±¡å®ä½“$S$åˆ°äºŒè¿›åˆ¶ä¸²é›†åˆçš„æ˜ å°„$e$ï¼Œä¾‹å¦‚

![image-20231226095638407](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226095638407.png)

â€‹	   ä¸€ä¸ªå®ä¾‹$i$çš„è§„æ¨¡æ˜¯å®ƒå¯¹åº”çš„å­—ç¬¦ä¸²$|i|$çš„é•¿åº¦ã€‚

â€‹	   æˆ‘ä»¬å°†å®ä¾‹é›†ï¼ˆè¾“å…¥é›†ï¼‰æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶ä¸²é›†åˆçš„é—®é¢˜ç§°ä¸ºå…·ä½“é—®é¢˜ï¼ˆ**concrete problem**ï¼‰

â€‹	   ç¼–ç å¯ä»¥å°†æŠ½è±¡é—®é¢˜æ˜ å°„åˆ°å…·ä½“é—®é¢˜

![image-20231226100049068](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226100049068.png)

![image-20231226100408539](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226100408539.png)

* Pé—®é¢˜çš„å†å®šä¹‰ï¼š

![image-20231226100612348](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226100612348.png)

è§£å†³ä¸€ä¸ªé—®é¢˜çš„å¤æ‚åº¦å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºå®ƒçš„ç¼–ç æ–¹å¼ï¼š

![image-20231226100512498](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226100512498.png)

* ä¸¤ç§ç¼–ç $e_1$å’Œ$e_2$**å¤šé¡¹å¼æ—¶é—´ç›¸å…³**ï¼š

  å­˜åœ¨ä¸¤ä¸ªå¤šé¡¹å¼æ—¶é—´è®¡ç®—å‡½æ•°$f_{12}$å’Œ$f_{21}$ï¼Œä½¿å¾—å¯¹äºä»»ä½•$i \in I$ï¼Œæ»¡è¶³$f_{12}(e_1(i))=e_2(i)$å’Œ$f_{21}(e_2(i))=e_1(i)$

* å…³äºç¼–ç ç›¸å…³çš„å¼•ç†ï¼š

  ä»¤$Q$æ˜¯ä¸€ä¸ªåœ¨å®ä¾‹é›†$I$ä¸Šçš„æŠ½è±¡å†³å®šé—®é¢˜ï¼Œ$e_1$å’Œ$e_2$æ˜¯ä¸¤ä¸ª$I$ä¸Šçš„ç›¸å…³ç¼–ç ï¼Œé‚£ä¹ˆ$e_1(Q) \in P$å½“ä¸”ä»…å½“$e_2(Q) \in P$

* $<G>$è¡¨ç¤ºä¸€ä¸ªå›¾$G$çš„ç¼–ç 

* ç¼–ç æ–¹å¼çš„é€‰æ‹©å’Œä¸€ä¸ªæŠ½è±¡é—®é¢˜æ˜¯å¦å¤šé¡¹å¼æ—¶é—´å¯è§£æ²¡æœ‰å…³ç³»

* è¯­è¨€æ¡†æ¶å®šä¹‰ï¼š

  ä¸€ä¸ªå­—æ¯è¡¨$\sum$æ˜¯ä¸€ä¸ªæœ‰é™çš„ç¬¦å·é›†

  åœ¨$\sum$ä¸Šå®šä¹‰çš„è¯­è¨€$L$æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²é›†åˆï¼Œå…¶ä¸­çš„å­—ç¬¦ä¸²ç”±$\sum$ä¸Šçš„ç¬¦å·ç»„æˆ

  æœ‰ç©ºå­—ç¬¦ä¸²$Îµ$ï¼Œç©ºè¯­è¨€$âˆ…$

![image-20231226101545797](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226101545797.png)

â€‹	   æˆ‘ä»¬å¯ä»¥æŠŠé—®é¢˜$Q$çœ‹ä½œç¬¦å·é›†$\sum=\{0,1\}$ä¸Šçš„è¯­è¨€$L$ï¼Œ$L=\{x \in \sum^*:Q(x)=1\}$

* å¦‚æœå¯¹äºä¸€ä¸ªç®—æ³•$A$æœ‰$A(x)=1$ï¼Œåˆ™ç§°ä¸€ä¸ªç®—æ³•æ¥å—ï¼ˆacceptï¼‰ä¸€ä¸ªå­—ç¬¦ä¸²$x \in \{0,1\}^*$

  ä¸€ä¸ªè¯­è¨€$L$è¢«ç®—æ³•$A$æ¥å—ï¼Œç­‰ä»·äº$L=\{x \in \{0,1\}^*:A(x)=1\}$

  å¦‚æœå¯¹äºä¸€ä¸ªç®—æ³•$A$æœ‰$A(x)=0$ï¼Œåˆ™ç§°ä¸€ä¸ªç®—æ³•æ‹’ç»ï¼ˆrejectï¼‰ä¸€ä¸ªå­—ç¬¦ä¸²$x \in \{0,1\}^*$

  ä¸€ä¸ªè¯­è¨€$L$è¢«ä¸€ä¸ªç®—æ³•$A$å®šä¹‰ï¼Œç­‰ä»·äº$L$ä¸­çš„æ¯ä¸€ä¸ªäºŒè¿›åˆ¶ä¸²éƒ½è¢«Aæ¥å—ï¼Œæ¯ä¸€ä¸ªä¸åœ¨$L$ä¸­çš„äºŒè¿›åˆ¶ä¸²éƒ½è¢«Aæ‹’ç»

![image-20231226102336163](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226102336163.png)

### 8.2 NPCé—®é¢˜

* ç¡®è®¤ç®—æ³•ï¼ˆ**Veriï¬cation algorithm**ï¼‰ï¼š

  ä¸€ä¸ªç¡®è®¤ç®—æ³•æœ‰ä¸¤ä¸ªè¾“å…¥å‚æ•°ï¼Œä¸€ä¸ªæ˜¯è¾“å…¥ä¸²$x$ï¼ˆä¾‹å¦‚å›¾Gçš„ç¼–ç ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯å¾…éªŒè¯çš„è§£ï¼ˆä¾‹å¦‚é¡¶ç‚¹çš„åˆ—è¡¨ï¼‰ã€‚ç®—æ³•$A$ç¡®è®¤$x$ç­‰ä»·äºå­˜åœ¨$y$ä½¿å¾—$A(x,y)=1$

* è¯­è¨€çš„è§„çº¦ï¼ˆ**Reducibility**ï¼‰

  ä¸€ä¸ªè¯­è¨€$L_1$å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…è§„çº¦åˆ°å¦ä¸€ä¸ªè¯­è¨€$L_2$ï¼ˆ$L_1 \leq_P L_2$ï¼‰ï¼Œç­‰ä»·äºå­˜åœ¨ä¸€ä¸ªå¤šé¡¹å¼æ—¶é—´è®¡ç®—å‡½æ•°$f:\{0,1\}^* \rightarrow \{0,1\}^*$ï¼Œä½¿å¾—å¯¹äºæ‰€æœ‰çš„$x \in L_1$å½“ä¸”ä»…å½“$x \in L_2$

  ![image-20231226103353030](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226103353030.png)

* é‡è¦å¼•ç†ï¼š

![image-20231226103446855](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226103446855.png)

* å¦‚æœä»»ä½•NPCé—®é¢˜éƒ½æ˜¯å¤šé¡¹å¼æ—¶é—´å¯è§£çš„ï¼Œé‚£ä¹ˆP=NP

  å¦‚æœä»»ä½•NPé—®é¢˜éƒ½ä¸æ˜¯å¤šé¡¹å¼æ—¶é—´å¯è§£çš„ï¼Œé‚£ä¹ˆæ²¡æœ‰NPCé—®é¢˜æ˜¯å¤šé¡¹å¼æ—¶é—´å¯è§£çš„

* ç”µè·¯å¯æ»¡è¶³æ€§é—®é¢˜

![image-20231226103702754](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226103702754.png)

$\text { CIRCUIT-SAT }=\{\langle C\rangle: C \text { is a satisfiable Boolean combinational circuit }\}$

è¦è¯æ˜ç”µè·¯å¯æ»¡è¶³æ€§é—®é¢˜æ˜¯NPCé—®é¢˜ï¼Œè¦åˆ†åˆ«è¯æ˜å…¶æ˜¯NPé—®é¢˜ï¼Œä»¥åŠå®ƒæ˜¯NP-hardé—®é¢˜

* NPCé—®é¢˜çš„è¯æ˜é€šå¼ï¼š

![image-20231226104041668](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226104041668.png)

* $CIRCUIT-SAT \leq_P SAT$

  ![image-20231226104236978](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226104236978.png)

â€‹		![image-20231226104301712](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226104301712.png)

* $SAT \leq_P 3-CNF-SAT$ï¼ˆä¸‰åˆå–èŒƒå¼ï¼‰

![image-20231226104426422](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226104426422.png)

![image-20231226104437347](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226104437347.png)

![image-20231226104533458](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226104533458.png)

![image-20231226104454670](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226104454670.png)

![image-20231226104700933](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226104700933.png)

* æ›´å¤šNPCé—®é¢˜

![image-20231226104727847](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226104727847.png)

### 8.3 ä½œä¸š

1. The subgraph-isomorphismï¼ˆå­å›¾åŒæ„ï¼‰ problem takes two undirected graphs $G_1$ and $G_2$, and asks whether $G_1$ is isomorphic to a subgraph of $G_2$. Show that the subgraph-isomorphism problem is NP-complete

(1) Prove SIP âˆˆ NP.

 Show that a solution to the problem can be verified in polynomial time. Given a injective mapping $f$ from $V_1$ to $V_2$, we can check that for every edge $(u, v)âˆˆE_1$, there is an edge $(f(u), f(v))âˆˆE_2$ in polynomial time $O(|V_1 |^2)$.

(2) Prove $SIP âˆˆ NPC$ by proving $CLIQUE â‰¤_P SIP$.

 Show that a known NPC problem, such as the clique problem, can be reduced to SIP. The clique problem takes a graph G and a number k, and asks whether G contains a complete subgraph (a clique) of size k

* **Reduction**: Construct $G_1$ is a complete graph of size k.

Then, $G_2$ contains a clique of size $k$ if and only if $G_1$ is isomorphic to a subgraph of $G_2$. The reduction takes $O(k^2)$ time to construct $G_1$.

2. Given an integer $mÃ—n$ matrix A and an integer m-vector b, the **0-1 integer-programming problem** asks whether there exists an integer n-vector x with elements in the set $\{0,1\}$ such that $Axâ‰¤b$. Prove that 0-1 integer programming is NP-complete. (Hint: Reduce from 3-CNF-SAT.)

(1) Prove 01IP âˆˆ NP

 Given a solution x, we can verify $Axâ‰¤b$ in $O(mn)$.

(2) Prove $01IP âˆˆ NPC$ by proving $3-CNF-SAT â‰¤_P 01IP$.

* **Reduction**:

 To satisfy each clause is true, we can convert it to an inequality. For example,

$x_1âˆ¨Â¬x_2âˆ¨Â¬x_3, x_1+(1-x_2)+(1-x_3)â‰¥1, -x_1+x_2+x_3â‰¤1$

where the final inequality has variables on the left no greater than an integer on the right. If x is not $Â¬$ operated in the clause, it is converted to $-x$; if $x$ is $Â¬$ operated, it is converted to $+x$. The integer on the right is the number of $Â¬$ operations in the clause minus 1.

 Suppose in 3-CNT-SAT the formula $Ï•$ has m clauses and n variables. Now we construct an integer mÃ—n matrix A,
$$
A_{i, j}= \begin{cases}-1,  & \text { if } x_j \text { occurs without }- \text { operation in clause } i \\ 1, & \text { if } x_j \text { occurs with } \neg \text { operation in clause } i \\ 0, & \text { otherwise (if } x_j \text { does not occur in clause } i \text { ) }\end{cases}
$$
Then construct an integer m-vector $b$, $b_i$ is the number of $Â¬$ operations in clause $i$ minus 1. Thus, m inequalities are combined into a 01IP problem. The 3-CNT-SAT can be satisfied if and only if we can find a vector $xâˆˆ\{0, 1\}^n$ such that $Axâ‰¤b$. The reduction takes $O(mn)$ time.

## ä¹. åˆ†å¸ƒå¼ç®—æ³•æ‘˜è¦

### 9.1 åˆ†å¸ƒå¼è®¡ç®—

* local steps

![image-20231226110329731](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226110329731.png)

* Step of a process and layering

![image-20231226110514934](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226110514934.png)

* JobHandler specification

```
Implements: JobHandler, instance jh.
Get familiar with the event-driven style

upon event < jh, Submit | job > do
	process(job);
	trigger < jh, Confirm | job >;
	
upon event < jh, Init > do
	buffer := âˆ…;

upon event < jh, Submit | job > do
	buffer := buffer âˆª {job};
	trigger < jh, Confirm | job >;

upon buffer â‰  âˆ… do
	job := selectjob(buffer);
	process(job);
	buffer := buffer \ {job};
```

### 9.2 æŠ½è±¡é”™è¯¯ï¼ˆAbstracting Failuresï¼‰

å½“ä¸€ä¸ªè¿›ç¨‹æ²¡æœ‰æŒ‰ç…§ç®—æ³•è§„å®šæ¥æ‰§è¡Œï¼Œå°±ç§°å‘ç”Ÿäº†ä¸€ä¸ªé”™è¯¯

Faulty processes:

* Crashï¼ˆcrash-stopï¼‰
  * Process stops execution of the algorithm: crashes
  * Process may crash in the middle of a step
* Crash-recovery
  * Process might temporarily crash, but then recover its state and proceed taking steps
  * Process may crash and recover for an infinite number of times
* Omission
  * The process omits to send/receive messages it is supposed to send/receive
  * Due to, e.g., buffer overflows or network congestion
* Byzantine
  * Unrestricted, arbitrary
  * Malicious behavior allowed, models intrusions, bugs, etc
  * Special case: Authenticated Byzantine fault

### 9.3 æŠ½è±¡é€šä¿¡ï¼ˆAbstracting Communicationï¼‰

ä¼ è¾“ä¸­çš„æ¶ˆæ¯å¯èƒ½ä¼šä¸¢å¤±ï¼Œå› æ­¤éœ€è¦ä¸€äº›å¤„ç†

* **Fair-loss links**

![image-20231226111339684](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226111339684.png)

* **Stubborn links**

![image-20231226111405150](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226111405150.png)

å®ç°ï¼š

```python
Implements: StubbornLink (sl).
Uses: FairLossLink (fll).

upon event < sl, Init > do
	sent := âˆ…;
	starttimer(Î”);

upon event < Timeout > do
	forall (q, m) âˆˆ sent do
		trigger < fll, Send | q, m >;
	starttimer(Î”);

upon event < sl, Send | q, m > do
	trigger < fll, Send | q, m >;
	sent := sent âˆª {(q, m)};

upon event < fll, Deliver | p, m > do
	trigger < sl, Deliver | p, m >;
```

* Perfectï¼ˆReliableï¼‰links

![image-20231226111529344](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226111529344.png)

å®ç°ï¼š

```python
Implements: PerfectPointToPointLinks, instance pl.
Uses: StubbornPointToPointLinks, instance sl.

upon event < pl, Init > do
	delivered := âˆ…;

upon event < pl, Send | q, m > do
	trigger < sl, Send | q, m >;

upon event < sl, Deliver | p, m > do
	if m âˆ‰ delivered then
		delivered := delivered âˆª {m};
		trigger < pl, Deliver | p, m >;

```

### 9.4 æ—¶é—´è¯„ä¼°ï¼ˆTiming Assumptionsï¼‰

![image-20231226111756935](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226111756935.png)

### 9.5 æŠ½è±¡æ—¶é—´ï¼ˆAbstracting timeï¼‰

æ ¹æ®æ—¶é—´è¯„ä¼°æ¥æ£€æµ‹è¿›ç¨‹é”™è¯¯æ˜¯ä¸å¯é çš„ï¼Œå®šä¹‰é”™è¯¯æ£€æµ‹å™¨ï¼ˆFailure detectorsï¼‰

é”™è¯¯æ£€æµ‹å™¨çš„ä¸¤å¤§æ€§è´¨ï¼šCompletenessã€Accuracy

![image-20231226112055758](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226112055758.png)

![image-20231226112126620](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226112126620.png)

**å®ç°**ï¼š

```Python
Implements: PerfectFailureDetector, instance P.
Uses: PerfectPointToPointLinks, instance pl.

upon event < P, Init > do
	alive := Î ;
	detected := âˆ…;
	starttimer(2âˆ†);

upon event < Timeout > do
	forall p âˆˆ Î  do
		if (p âˆ‰ alive) âˆ§ (p âˆ‰ detected) then
			detected := detected âˆª {p};
			trigger < P, Crash | p >;
		trigger < pl, Send | p, [HEARTBEAT_REQUEST] >;
	alive := âˆ…;
	starttimer(2âˆ†);

upon event < pl, Deliver | q, [HEARTBEAT_REQUEST] > do
	trigger < pl, Send | q, [HEARTBEAT_REPLY] >;

upon event < pl, Deliver | p, [HEARTBEAT_REPLY] > do
	alive := alive âˆª {p};
```

**å®ä¾‹**ï¼š

![image-20231226112211593](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226112211593.png)

![image-20231226112234058](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226112234058.png)

**å®ç°**ï¼š

```python
upon event < â—‡P, Init > do
	alive := Î ;
	suspected := âˆ…;
	delay := 2âˆ†â€™;
	starttimer(delay);

upon event < Timeout > do
	if alive âˆ© suspected â‰  âˆ… then
		delay := delay + 2âˆ†â€™;
	forall p âˆˆ Î  do
		if (p âˆ‰ alive) âˆ§ (p âˆ‰ suspected) then
			suspected := suspected âˆª {p};
			trigger < â—‡P, Suspect | p >;
		else if (p âˆˆ alive) âˆ§ (p âˆˆ suspected) then
			suspected := suspected \ {p};
			trigger < â—‡P, Restore | p >;
		trigger < pl, Send | p, [HEARTBEAT_REQUEST] >;
	alive := âˆ…;
	starttimer(delay);
    
upon event < pl, Deliver | q, [HEARTBEAT_REQUEST] > do
	trigger < pl, Send | q, [HEARTBEAT_REPLY] >;

upon event < pl, Deliver | p, [HEARTBEAT_REPLY] > do
	alive := alive âˆª {p};
```

éœ€è¦æ³¨æ„çš„æ˜¯$\Delta$äº‹å…ˆæ˜¯ä¸çŸ¥é“çš„

**å®ä¾‹**ï¼š

![image-20231226112342759](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226112342759.png)

**Leader Election**ï¼š

![image-20231226112522174](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226112522174.png)

**å®ç°**ï¼š

```python
Implements: LeaderElection, instance le.
Uses: PerfectFailureDetector, instance P.

upon event < le, Init > do
	suspected := âˆ…;
	leader := âŠ¥;

upon event < P , Crash | p > do
	suspected := suspected âˆª {p};

upon leader â‰  maxrank(Î  \ suspected) do
	leader := maxrank(Î  \ suspected);
	trigger <le, Leader | leader >;
```

**å®ä¾‹**ï¼š

![image-20231226112553733](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226112553733.png)

![image-20231226112623055](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226112623055.png)

**å®ç°**ï¼š

```python
Implements: EventualLeaderDetector, instance Î©.
Uses: EventuallyPerfectFailureDetector, instance â—‡P.

upon event < Î©, Init > do
	suspected := âˆ…;
	leader := âŠ¥;

upon event < â—‡P, Suspect | p > do
	suspected := suspected âˆª {p};

upon event < â—‡P, Restore | p > do
	suspected := suspected \ {p};

upon leader â‰  maxrank(Î  \ suspected) do
	leader := maxrank(Î  \ suspected);
	trigger < Î©, Trust | leader >;
```

**å®ä¾‹**ï¼š

![image-20231226112657834](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226112657834.png)

### 9.6 ä½œä¸š

1. What happens if the assumption for Î” does not hold? Which property is violated? Give an example

![image-20231226112745370](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226112745370.png)

![image-20231226112757440](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226112757440.png)

2. If we would prefer p2 to be the leader (though it may crash), give an eventual leader detection algorithm that additionally ensuresã€‚If p2 does not crash, then eventually p2 is elected as the leader by every correct process

**æ³•ä¸€**ï¼š

```python
upon event < Î©, Init > do
	suspected := âˆ…;
	leader := âŠ¥;

upon event < â—‡P, Suspect | p > do
	suspected := suspected âˆª {p};

upon event < â—‡P, Restore | p > do
	suspected := suspected \ {p};

upon (p2 âˆˆ Î  \ suspected and leader â‰  p2) or (p2 âˆˆ suspected and leader â‰   maxrank(Î  \ suspected)) do
	if p2 âˆˆ Î  \ suspected then
		leader := p2;
	else
		leader := maxrank(Î  \ suspected);
	trigger < Î©, Trust | leader >;

```

**æ³•äºŒ**ï¼š

![image-20231226113003578](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226113003578.png)

## å. å¹¿æ’­ï¼ˆbroadcastï¼‰

### 10.1 Reliable broadcast primitives

* **Best-effort broadcast**

![image-20231226145204552](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226145204552.png)

**å®ç°**ï¼š

![image-20231226145747620](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226145747620.png)

è¯„ï¼šno creationå’Œno duplicationéƒ½æ˜¯ç›´æ¥ä¾èµ–äºperfect linkså®ç°çš„ï¼›ä¸€æ¬¡é€šä¿¡ä¼šäº§ç”Ÿ$O(N)$æ¡ä¿¡æ¯

* **(Regular) Reliable Broadcast**

![image-20231226145526172](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226145526172.png)

**å®ç°ï¼ˆLazyï¼‰**ï¼š

![image-20231226145812548](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226145812548.png)

è¯„ï¼šæœ€å¥½æƒ…å†µä¸‹æ˜¯ä¸€æ¬¡é€šä¿¡å’Œäº§ç”Ÿ$O(N)$æ¡æ¶ˆæ¯ï¼›æœ€åæƒ…å†µä¸‹æ˜¯$O(N)$æ¬¡é€šä¿¡å’Œ$O(N^2)$æ¡æ¶ˆæ¯

**å®ç°ï¼ˆEagerï¼‰ï¼š**

![image-20231226150152721](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226150152721.png)

è¯„ï¼šæœ€å¥½æƒ…å†µä¸‹æ˜¯ä¸€æ¬¡é€šä¿¡å’Œäº§ç”Ÿ$O(N^2)$æ¡æ¶ˆæ¯ï¼›æœ€åæƒ…å†µä¸‹æ˜¯$O(N)$æ¬¡é€šä¿¡å’Œ$O(N^2)$æ¡æ¶ˆæ¯

* **Uniform reliable broadcast**

![image-20231226150300012](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226150300012.png)

**å®ç°ï¼ˆAll-Ack Uniform Reliable Broadcastï¼‰**ï¼š

![image-20231226150414557](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226150414557.png)

![image-20231226150424085](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226150424085.png)

![image-20231226150510111](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226150510111.png)

è¯„ï¼šæœ€å¥½æƒ…å†µä¸‹æ˜¯ä¸¤æ¬¡é€šä¿¡å’Œäº§ç”Ÿ$O(N^2)$æ¡æ¶ˆæ¯ï¼›æœ€åæƒ…å†µä¸‹æ˜¯$O(N)$æ¬¡é€šä¿¡å’Œ$O(N^2)$æ¡æ¶ˆæ¯

### 10.2 Quorum

![image-20231226150703995](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226150703995.png)

ä¸åŒçš„å­é›†ä¹‹é—´å¿…é¡»ç›¸äº¤éç©ºï¼ï¼ï¼

å‡è®¾ç°åœ¨æœ‰$f$ä¸ªcrashï¼Œè¿˜å­˜æ´»ç€$N-f$ä¸ªè¿›ç¨‹å¯ä»¥å·¥ä½œï¼Œé‚£ä¹ˆå¿…é¡»æ»¡è¶³$2(N-f)>N$ï¼Œå³$N>2f$

### 10.3 Majority-Ack Uniform Reliable Broadcast

ä¸ä½¿ç”¨PerfectFaliureDetectoræ¥å®ç°Uniform reliable broadcastï¼š

![image-20231226151153186](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226151153186.png)

![image-20231226151208248](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226151208248.png)

æ­£ç¡®æ€§è§£é‡Šï¼š

![image-20231226151320850](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226151320850.png)

![image-20231226151332261](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226151332261.png)

è¯„ï¼šæœ€å¥½æƒ…å†µä¸‹æ˜¯ä¸¤æ¬¡é€šä¿¡å’Œäº§ç”Ÿ$O(N^2)$æ¡æ¶ˆæ¯ï¼›æœ€åæƒ…å†µä¸‹æ˜¯$O(N)$æ¬¡é€šä¿¡å’Œ$O(N^2)$æ¡æ¶ˆæ¯

### 10.4 Causal-order broadcast primitives

ä¿è¯äº†æ”¶åˆ°çš„æ¶ˆæ¯åœ¨é€»è¾‘ä¸Šçš„å‰åä¸€è‡´ï¼Œæ¯ä¸ªè¿›ç¨‹è¦ç»´æŠ¤è‡ªå·±çš„è®¡æ•°å™¨ï¼Œæ¯æ¬¡å‘é€æ¶ˆæ¯æ—¶è¦æŠŠè‡ªå·±çš„è®¡æ•°å™¨ä¿¡æ¯ä¸€åŒå‘é€

![image-20231226151619545](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226151619545.png)

ä½†logic clocksä»ç„¶å­˜åœ¨é—®é¢˜ï¼šLogical clocks cannot convey causal relation

![image-20231226151800039](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226151800039.png)

äºæ˜¯ä½¿ç”¨Vector clocks

![image-20231226151845430](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226151845430.png)

![image-20231226152022030](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226152022030.png)

![image-20231226152152906](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226152152906.png)

![image-20231226152227482](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226152227482.png)

**å®ç°ï¼ˆNo-Waiting Causal-Order Broadcastï¼‰ï¼š**

![image-20231226152307240](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226152307240.png)

ä¸ºäº†è§£å†³pass[]è§„æ¨¡è¿‡å¤§å ç”¨ç©ºé—´çš„é—®é¢˜ï¼Œè¦é‡‡å–æˆªæ–­çš„æ–¹æ³•

![image-20231226152543009](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226152543009.png)

ä¹Ÿå¯ä»¥å®Œå…¨å»æ‰pass[]ï¼Œå³å®ç°**Waiting Causal Broadcast**

![image-20231226152635524](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226152635524.png)

è¦å®ç°**Uniform Reliable Causal Order Broadcast**çš„è¯ï¼Œç›´æ¥å°†rbBroadcastæ¢æˆurbBroadcast

### 10.5 ä½œä¸š

1. Can we devise an uniform reliable broadcast algorithm using eventually perfect failure detector?

![image-20231226152820927](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226152820927.png)

2. Can we devise a broadcast algorithm that does not ensure the causal delivery property but only its non-uniform variantï¼šno **correct** process p delivers a message m2 unless p has already delivered every message m1 such that m1 â†’ m2?

![image-20231226152941675](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226152941675.png)

## åä¸€. Consensus

ä¸€ç»„è¿›ç¨‹ä¸­çš„ä¸€éƒ¨åˆ†crashæ‰äº†ï¼Œè¦è§£å†³çš„é—®é¢˜æ˜¯ä½¿å‰©ä½™çš„æ­£å¸¸è¿›ç¨‹å¯¹åç»­çš„å·¥ä½œè¾¾æˆå…±è¯†

### 11.1 æœ€åŸºæœ¬çš„consensus

![image-20231226153219508](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226153219508.png)

### 11.2 Uniform consensus

![image-20231226153500391](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226153500391.png)

### 11.3 Consensusç®—æ³•1

![image-20231226153647343](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226153647343.png)

![image-20231226153714494](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226153714494.png)

![image-20231226153731636](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226153731636.png)

### 11.4 Consensusç®—æ³•2

![image-20231226153907877](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226153907877.png)

![image-20231226153926125](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226153926125.png)

![image-20231226153936381](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226153936381.png)

### 11.5 Total Order Broadcast

![image-20231226154135547](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226154135547.png)

è€ŒTotal Orderè¦æ±‚æ‰€æœ‰è¿›ç¨‹å‘é€ä¿¡æ¯çš„é¡ºåºæ˜¯ä¸€è‡´çš„ï¼Œä½†ä¸è¦æ±‚å› æœæ€§

![image-20231226154242765](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226154242765.png)

![image-20231226154258075](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226154258075.png)

![image-20231226154309282](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226154309282.png)

### 11.6 Consensusç®—æ³•3

![image-20231226154406438](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226154406438.png)

![image-20231226154611078](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226154611078.png)

![image-20231226154820471](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226154820471.png)

![image-20231226154832137](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226154832137.png)

![image-20231226154846230](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226154846230.png)

![image-20231226154857349](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226154857349.png)

æ­£ç¡®æ€§è¯´æ˜ï¼š

![image-20231226155002255](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226155002255.png)

**Correctness argument: Termination**ï¼š

![image-20231226155011702](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226155011702.png)

**Correctness argument: Agreement**ï¼š

![image-20231226155042715](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226155042715.png)

### 11.7 ä½œä¸š

1. Implement Consensus using total-order broadcast

![image-20231226155138894](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226155138894.png)

2. Explain why any consensus algorithm that uses Eventually Perfect Faliure Detector actually solves uniform consensus

![image-20231226155226115](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231226155226115.png)

## åäºŒ. å…±è¯†çš„åº”ç”¨

### 12.1 **Terminating reliable broadcast**

å¯¹äºé€šå¸¸çš„Uniform reliable broadcastï¼Œå¦‚æœå‘é€æ¶ˆæ¯çš„è¿›ç¨‹åœ¨å‘é€å‰å°±crashäº†ï¼Œé‚£å…¶ä»–çš„è¿›ç¨‹å°±ä¼šæ— é™ç­‰å¾…æ¶ˆæ¯ï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„

![image-20231229161056508](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229161056508.png)

Terminating reliable broadcastä¸­çš„æ­£å¸¸è¿›ç¨‹ä¼šåœ¨æ”¶ä¸åˆ°æ¶ˆæ¯æ—¶æ¨¡æ‹Ÿæ”¶åˆ°äº†ä¸€ä¸ªé»˜è®¤å€¼

![image-20231229161207854](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229161207854.png)

![image-20231229161324559](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229161324559.png)

![image-20231229161415785](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229161415785.png)

![image-20231229161443586](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229161443586.png)

**å®ç°**ï¼š

![image-20231229161515611](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229161515611.png)

![image-20231229161555379](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229161555379.png)

![image-20231229161609260](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229161609260.png)

**æ­£ç¡®æ€§**ï¼š

* Integrityï¼šNo other value is proposed to consensus, the property follows by consensus Validity

* Validityï¼š

![image-20231229161731518](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229161731518.png)

* Uniform Agreementï¼šBy Consensus Uniform Agreement
* Terminationï¼š

![image-20231229161816744](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229161816744.png)

### 12.2 Group membership

ç”¨æ¥æä¾›å…³äºå½“å‰é‚£äº›è¿›ç¨‹æ­£å¤„äºå·¥ä½œçŠ¶æ€çš„ä¿¡æ¯ï¼Œä¸é”™è¯¯æ£€æµ‹å™¨æ˜¯æœ‰åŒºåˆ«çš„ï¼Œé”™è¯¯æ£€æµ‹å™¨å¯èƒ½ä¼šå¯¼è‡´å„ä¸ªè¿›ç¨‹æ”¶åˆ°çš„ä¿¡æ¯ä¸ä¸€è‡´

![image-20231229162106116](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229162106116.png)

![image-20231229162134652](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229162134652.png)

![image-20231229162148254](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229162148254.png)

**å®ç°**ï¼š

![image-20231229162212075](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229162212075.png)

**æ­£ç¡®æ€§**ï¼š

![image-20231229162316880](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229162316880.png)

![image-20231229162330780](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229162330780.png)

### 12.3 Non-blocking Atomic Commit(NBAC)

ç”¨äºæ•°æ®åº“äº¤äº’é€šä¿¡ï¼ˆUsed in database transactionsï¼‰

ä¸€æ¬¡äº¤äº’é€šä¿¡ï¼ˆtransactionï¼‰å¯ä»¥æ˜¯committingï¼Œä¹Ÿå¯ä»¥æ˜¯abortingã€‚ä¸€æ¬¡transactionä¸­çš„æ“ä½œè¦ä¹ˆå…¨åšï¼Œè¦ä¹ˆå…¨ä¸åš

**ACIDæ€§è´¨**ï¼š

* Atomicityï¼ša transaction either performs entirely or none at all
* Consistencyï¼ša transaction transforms a consistent state into another consistent state
* Isolationï¼ša transaction appears to be executed in isolation
* Durabilityï¼šthe effects of a transaction that commits are permanentï¼ˆæ°¸ä¹…çš„ï¼‰

![image-20231229162856925](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229162856925.png)

![image-20231229162908929](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229162908929.png)

![image-20231229163001297](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163001297.png)

![image-20231229163033555](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163033555.png)

![image-20231229163044419](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163044419.png)

**å®ç°**ï¼š

![image-20231229163100908](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163100908.png)

**æ­£ç¡®æ€§**ï¼š

![image-20231229163156707](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163156707.png)

![image-20231229163205517](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163205517.png)

### 12.4 ä½œä¸š

1. Try to implement P assuming utrb (and perfect linksï¼‰

![image-20231229163252330](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163252330.png)

2. Can you implement P using gm

![image-20231229163314275](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163314275.png)

## åä¸‰. Miscellaneousï¼ˆæ‚é¡¹ï¼‰

![image-20231229163503525](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163503525.png)

![image-20231229163518842](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163518842.png)

![image-20231229163534132](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163534132.png)

![image-20231229163548707](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163548707.png)

![image-20231229163605805](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163605805.png)

![image-20231229163618043](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163618043.png)

![image-20231229163637323](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163637323.png)

![image-20231229163650195](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163650195.png)

![image-20231229163701107](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163701107.png)

![image-20231229163716084](C:\Users\27476\Desktop\ç®—æ³•æ•™æ\å›¾å›¾\image-20231229163716084.png)
